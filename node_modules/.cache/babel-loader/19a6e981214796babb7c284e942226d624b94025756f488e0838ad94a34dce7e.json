{"ast":null,"code":"var _jsxFileName = \"/Users/tanishk7838/Desktop/vega6-task/src/Components/Canvas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { fabric } from \"fabric\";\nimport { FabricJSCanvas, useFabricJSEditor } from \"fabricjs-react\";\nimport \"./Canvas.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Canvas({\n  src\n}) {\n  _s();\n  const {\n    editor,\n    onReady\n  } = useFabricJSEditor();\n  const history = [];\n  const [color, setColor] = useState(\"#35363a\");\n  const [cropImage, setCropImage] = useState(true);\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    if (cropImage) {\n      editor.canvas.__eventListeners = {};\n      return;\n    }\n    if (!editor.canvas.__eventListeners[\"mouse:wheel\"]) {\n      editor.canvas.on(\"mouse:wheel\", function (opt) {\n        var delta = opt.e.deltaY;\n        var zoom = editor.canvas.getZoom();\n        zoom *= 0.999 ** delta;\n        if (zoom > 20) zoom = 20;\n        if (zoom < 0.01) zoom = 0.01;\n        editor.canvas.zoomToPoint({\n          x: opt.e.offsetX,\n          y: opt.e.offsetY\n        }, zoom);\n        opt.e.preventDefault();\n        opt.e.stopPropagation();\n      });\n    }\n    if (!editor.canvas.__eventListeners[\"mouse:down\"]) {\n      editor.canvas.on(\"mouse:down\", function (opt) {\n        var evt = opt.e;\n        if (evt.ctrlKey === true) {\n          this.isDragging = true;\n          this.selection = false;\n          this.lastPosX = evt.clientX;\n          this.lastPosY = evt.clientY;\n        }\n      });\n    }\n    if (!editor.canvas.__eventListeners[\"mouse:move\"]) {\n      editor.canvas.on(\"mouse:move\", function (opt) {\n        if (this.isDragging) {\n          var e = opt.e;\n          var vpt = this.viewportTransform;\n          vpt[4] += e.clientX - this.lastPosX;\n          vpt[5] += e.clientY - this.lastPosY;\n          this.requestRenderAll();\n          this.lastPosX = e.clientX;\n          this.lastPosY = e.clientY;\n        }\n      });\n    }\n    if (!editor.canvas.__eventListeners[\"mouse:up\"]) {\n      editor.canvas.on(\"mouse:up\", function (opt) {\n        this.setViewportTransform(this.viewportTransform);\n        this.isDragging = false;\n        this.selection = true;\n      });\n    }\n    editor.canvas.renderAll();\n  }, [editor]);\n  const addBackground = () => {\n    if (!editor || !fabric) {\n      return;\n    }\n    fabric.Image.fromURL(`${src}`, image => {\n      editor.canvas.setBackgroundImage(image, editor.canvas.renderAll.bind(editor.canvas));\n    });\n  };\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    editor.canvas.setHeight(500);\n    editor.canvas.setWidth(500);\n    addBackground();\n    editor.canvas.renderAll();\n  }, [editor === null || editor === void 0 ? void 0 : editor.canvas.backgroundImage]);\n  const toggleSize = () => {\n    editor.canvas.freeDrawingBrush.width === 12 ? editor.canvas.freeDrawingBrush.width = 5 : editor.canvas.freeDrawingBrush.width = 12;\n  };\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    editor.canvas.freeDrawingBrush.color = color;\n    editor.setStrokeColor(color);\n  }, [color]);\n  const toggleDraw = () => {\n    editor.canvas.isDrawingMode = !editor.canvas.isDrawingMode;\n  };\n  const undo = () => {\n    if (editor.canvas._objects.length > 0) {\n      history.push(editor.canvas._objects.pop());\n    }\n    editor.canvas.renderAll();\n  };\n  const redo = () => {\n    if (history.length > 0) {\n      editor.canvas.add(history.pop());\n    }\n  };\n  const clear = () => {\n    editor.canvas._objects.splice(0, editor.canvas._objects.length);\n    history.splice(0, history.length);\n    editor.canvas.renderAll();\n  };\n  const removeSelectedObject = () => {\n    editor.canvas.remove(editor.canvas.getActiveObject());\n  };\n  const onAddCircle = () => {\n    editor.addCircle();\n  };\n  const onAddRectangle = () => {\n    editor.addRectangle();\n  };\n  const addText = () => {\n    editor.addText(\"inset text\");\n  };\n  const onAddTriangle = () => {\n    const triangle = new fabric.Triangle({\n      width: 150,\n      height: 100,\n      fill: \"\",\n      stroke: \"black\",\n      strokeWidth: 3,\n      cornerColor: \"blue\",\n      angle: 0\n    });\n    editor.canvas.add(triangle);\n  };\n  const onAddPolygon = () => {\n    const polygon = new fabric.Polygon([{\n      x: 200,\n      y: 10\n    }, {\n      x: 250,\n      y: 50\n    }, {\n      x: 250,\n      y: 180\n    }, {\n      x: 150,\n      y: 180\n    }, {\n      x: 150,\n      y: 50\n    }], {\n      fill: '',\n      stroke: \"black\",\n      strokeWidth: 3\n    });\n    editor.canvas.add(polygon);\n  };\n  const downloadSVG = svgString => {\n    const blob = new Blob([svgString], {\n      type: \"image/svg+xml\"\n    });\n    const url = URL.createObjectURL(blob);\n    const downloadLink = document.createElement(\"a\");\n    downloadLink.href = url;\n    downloadLink.download = \"my_canvas_image.svg\";\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n    URL.revokeObjectURL(url);\n  };\n  const download_img = () => {\n    const svgString = editor.canvas.toSVG();\n    downloadSVG(svgString);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Edit your image in canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-btn\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAddCircle,\n        children: \"Add circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAddRectangle,\n        disabled: !cropImage,\n        children: \"Add Rectangle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAddTriangle,\n        disabled: !cropImage,\n        children: \"Add Triangle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAddPolygon,\n        disabled: !cropImage,\n        children: \"Add Polygon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addText,\n        disabled: !cropImage,\n        children: \"Add Text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleDraw,\n        disabled: !cropImage,\n        children: \"Toggle draw\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clear,\n        disabled: !cropImage,\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: undo,\n        disabled: !cropImage,\n        children: \"Undo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: redo,\n        disabled: !cropImage,\n        children: \"Redo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleSize,\n        disabled: !cropImage,\n        children: \"ToggleSize\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: removeSelectedObject,\n        disabled: !cropImage,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => setCropImage(!cropImage),\n        children: \"Crop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        disabled: !cropImage,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: !cropImage,\n          type: \"color\",\n          value: color,\n          onChange: e => setColor(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: download_img,\n        disabled: !cropImage,\n        children: [\" \", \"Download as svg\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: `3px ${!cropImage ? \"dotted\" : \"solid\"} Green`,\n        width: \"500px\",\n        height: \"600px\",\n        marginTop: \"-430px\",\n        marginLeft: \"50px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(FabricJSCanvas, {\n        className: \"sample-canvas\",\n        onReady: onReady\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n}\n_s(Canvas, \"tq2KqrvdYQM5gLqSTCx+QNMWVYY=\", false, function () {\n  return [useFabricJSEditor];\n});\n_c = Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useEffect","useState","fabric","FabricJSCanvas","useFabricJSEditor","jsxDEV","_jsxDEV","Canvas","src","_s","editor","onReady","history","color","setColor","cropImage","setCropImage","canvas","__eventListeners","on","opt","delta","e","deltaY","zoom","getZoom","zoomToPoint","x","offsetX","y","offsetY","preventDefault","stopPropagation","evt","ctrlKey","isDragging","selection","lastPosX","clientX","lastPosY","clientY","vpt","viewportTransform","requestRenderAll","setViewportTransform","renderAll","addBackground","Image","fromURL","image","setBackgroundImage","bind","setHeight","setWidth","backgroundImage","toggleSize","freeDrawingBrush","width","setStrokeColor","toggleDraw","isDrawingMode","undo","_objects","length","push","pop","redo","add","clear","splice","removeSelectedObject","remove","getActiveObject","onAddCircle","addCircle","onAddRectangle","addRectangle","addText","onAddTriangle","triangle","Triangle","height","fill","stroke","strokeWidth","cornerColor","angle","onAddPolygon","polygon","Polygon","downloadSVG","svgString","blob","Blob","type","url","URL","createObjectURL","downloadLink","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","download_img","toSVG","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","value","onChange","target","style","border","marginTop","marginLeft","_c","$RefreshReg$"],"sources":["/Users/tanishk7838/Desktop/vega6-task/src/Components/Canvas.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { fabric } from \"fabric\";\nimport { FabricJSCanvas, useFabricJSEditor } from \"fabricjs-react\";\nimport \"./Canvas.css\";\nexport default function Canvas({ src }) {\n  const { editor, onReady } = useFabricJSEditor();\n\n  const history = [];\n  const [color, setColor] = useState(\"#35363a\");\n  const [cropImage, setCropImage] = useState(true);\n\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n\n    if (cropImage) {\n      editor.canvas.__eventListeners = {};\n      return;\n    }\n\n    if (!editor.canvas.__eventListeners[\"mouse:wheel\"]) {\n      editor.canvas.on(\"mouse:wheel\", function (opt) {\n        var delta = opt.e.deltaY;\n        var zoom = editor.canvas.getZoom();\n        zoom *= 0.999 ** delta;\n        if (zoom > 20) zoom = 20;\n        if (zoom < 0.01) zoom = 0.01;\n        editor.canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\n        opt.e.preventDefault();\n        opt.e.stopPropagation();\n      });\n    }\n\n    if (!editor.canvas.__eventListeners[\"mouse:down\"]) {\n      editor.canvas.on(\"mouse:down\", function (opt) {\n        var evt = opt.e;\n        if (evt.ctrlKey === true) {\n          this.isDragging = true;\n          this.selection = false;\n          this.lastPosX = evt.clientX;\n          this.lastPosY = evt.clientY;\n        }\n      });\n    }\n\n    if (!editor.canvas.__eventListeners[\"mouse:move\"]) {\n      editor.canvas.on(\"mouse:move\", function (opt) {\n        if (this.isDragging) {\n          var e = opt.e;\n          var vpt = this.viewportTransform;\n          vpt[4] += e.clientX - this.lastPosX;\n          vpt[5] += e.clientY - this.lastPosY;\n          this.requestRenderAll();\n          this.lastPosX = e.clientX;\n          this.lastPosY = e.clientY;\n        }\n      });\n    }\n\n    if (!editor.canvas.__eventListeners[\"mouse:up\"]) {\n      editor.canvas.on(\"mouse:up\", function (opt) {\n        this.setViewportTransform(this.viewportTransform);\n        this.isDragging = false;\n        this.selection = true;\n      });\n    }\n\n    editor.canvas.renderAll();\n  }, [editor]);\n\n  const addBackground = () => {\n    if (!editor || !fabric) {\n      return;\n    }\n\n    fabric.Image.fromURL(`${src}`, (image) => {\n      editor.canvas.setBackgroundImage(\n        image,\n        editor.canvas.renderAll.bind(editor.canvas)\n      );\n    });\n  };\n\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    editor.canvas.setHeight(500);\n    editor.canvas.setWidth(500);\n    addBackground();\n    editor.canvas.renderAll();\n  }, [editor?.canvas.backgroundImage]);\n\n  const toggleSize = () => {\n    editor.canvas.freeDrawingBrush.width === 12\n      ? (editor.canvas.freeDrawingBrush.width = 5)\n      : (editor.canvas.freeDrawingBrush.width = 12);\n  };\n\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    editor.canvas.freeDrawingBrush.color = color;\n    editor.setStrokeColor(color);\n  }, [color]);\n\n  const toggleDraw = () => {\n    editor.canvas.isDrawingMode = !editor.canvas.isDrawingMode;\n  };\n  const undo = () => {\n    if (editor.canvas._objects.length > 0) {\n      history.push(editor.canvas._objects.pop());\n    }\n    editor.canvas.renderAll();\n  };\n  const redo = () => {\n    if (history.length > 0) {\n      editor.canvas.add(history.pop());\n    }\n  };\n\n  const clear = () => {\n    editor.canvas._objects.splice(0, editor.canvas._objects.length);\n    history.splice(0, history.length);\n    editor.canvas.renderAll();\n  };\n\n  const removeSelectedObject = () => {\n    editor.canvas.remove(editor.canvas.getActiveObject());\n  };\n\n  const onAddCircle = () => {\n    editor.addCircle();\n  };\n  const onAddRectangle = () => {\n    editor.addRectangle();\n  };\n  const addText = () => {\n    editor.addText(\"inset text\");\n  };\n\n  const onAddTriangle = () => {\n    const triangle = new fabric.Triangle({\n      width: 150,\n      height: 100,\n      fill: \"\",\n      stroke: \"black\",\n      strokeWidth: 3,\n      cornerColor: \"blue\",\n      angle: 0,\n    });\n\n    editor.canvas.add(triangle)\n  };\n\n  const onAddPolygon = () =>{\n    const polygon = new fabric.Polygon([ \n      { x: 200, y: 10 }, \n      { x: 250, y: 50 }, \n      { x: 250, y: 180}, \n      { x: 150, y: 180}, \n      { x: 150, y: 50 }], { \n          fill: '' ,\n          stroke: \"black\",\n          strokeWidth: 3\n      });\n      editor.canvas.add(polygon)\n  }\n\n  const downloadSVG = (svgString) => {\n    const blob = new Blob([svgString], { type: \"image/svg+xml\" });\n    const url = URL.createObjectURL(blob);\n    const downloadLink = document.createElement(\"a\");\n    downloadLink.href = url;\n    downloadLink.download = \"my_canvas_image.svg\";\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n    URL.revokeObjectURL(url);\n  };\n\n  const download_img = () => {\n    const svgString = editor.canvas.toSVG();\n    downloadSVG(svgString);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Edit your image in canvas</h1>\n      <div className=\"app-btn\">\n        <button onClick={onAddCircle}>Add circle</button>\n        <button onClick={onAddRectangle} disabled={!cropImage}>\n          Add Rectangle\n        </button>\n        <button onClick={onAddTriangle} disabled={!cropImage}>\n          Add Triangle\n        </button>\n        <button onClick={onAddPolygon} disabled={!cropImage}>\n          Add Polygon\n        </button>\n        <button onClick={addText} disabled={!cropImage}>\n          Add Text\n        </button>\n        <button onClick={toggleDraw} disabled={!cropImage}>\n          Toggle draw\n        </button>\n        <button onClick={clear} disabled={!cropImage}>\n          Clear\n        </button>\n        <button onClick={undo} disabled={!cropImage}>\n          Undo\n        </button>\n        <button onClick={redo} disabled={!cropImage}>\n          Redo\n        </button>\n        <button onClick={toggleSize} disabled={!cropImage}>\n          ToggleSize\n        </button>\n        <button onClick={removeSelectedObject} disabled={!cropImage}>\n          Delete\n        </button>\n        <button onClick={(e) => setCropImage(!cropImage)}>Crop</button>\n        <label disabled={!cropImage}>\n          <input\n            disabled={!cropImage}\n            type=\"color\"\n            value={color}\n            onChange={(e) => setColor(e.target.value)}\n          />\n        </label>\n        <button onClick={download_img} disabled={!cropImage}>\n          {\" \"}\n          Download as svg\n        </button>\n      </div>\n      <div\n        style={{\n          border: `3px ${!cropImage ? \"dotted\" : \"solid\"} Green`,\n          width: \"500px\",\n          height: \"600px\",\n          marginTop: \"-430px\",\n          marginLeft: \"50px\",\n        }}\n      >\n        <FabricJSCanvas className=\"sample-canvas\" onReady={onReady} />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}