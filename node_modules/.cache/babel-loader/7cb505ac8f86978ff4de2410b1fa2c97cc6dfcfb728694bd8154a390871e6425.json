{"ast":null,"code":"var _jsxFileName = \"/Users/tanishk7838/Desktop/vega6-task/src/Components/Canvas.jsx\",\n  _s = $RefreshSig$();\n// import { FabricJSCanvas, useFabricJSEditor } from 'fabricjs-react'\n// import React, { useEffect } from 'react'\n// import { fabric } from 'fabric'\n// import './Canvas.css'\n// function Canvas({src}) {\n//     const {selectedObjects, editor, onReady } = useFabricJSEditor()\n//     useEffect(() => {\n//         editor.canvas.setHeight(400)\n//         editor.canvas.setWidth(400)\n//         fabric.Image.fromURL(`${src}`, function (oImg) {\n//           editor?.canvas.add(oImg);\n//         });\n//       }, [fabric, editor])\n//   return (\n//     <div className='canvas'>\n//         <FabricJSCanvas className=\"sample-canvas\" onReady={onReady} />\n//     </div>\n//   )\n// }\n\n// export default Canvas\n\nimport React, { useEffect, useState } from \"react\";\nimport { fabric } from \"fabric\";\nimport { FabricJSCanvas, useFabricJSEditor } from \"fabricjs-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Canvas({\n  src\n}) {\n  _s();\n  const {\n    editor,\n    onReady\n  } = useFabricJSEditor();\n  const history = [];\n  const [color, setColor] = useState(\"#35363a\");\n  const [cropImage, setCropImage] = useState(true);\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    if (cropImage) {\n      editor.canvas.__eventListeners = {};\n      return;\n    }\n    if (!editor.canvas.__eventListeners[\"mouse:wheel\"]) {\n      editor.canvas.on(\"mouse:wheel\", function (opt) {\n        var delta = opt.e.deltaY;\n        var zoom = editor.canvas.getZoom();\n        zoom *= 0.999 ** delta;\n        if (zoom > 20) zoom = 20;\n        if (zoom < 0.01) zoom = 0.01;\n        editor.canvas.zoomToPoint({\n          x: opt.e.offsetX,\n          y: opt.e.offsetY\n        }, zoom);\n        opt.e.preventDefault();\n        opt.e.stopPropagation();\n      });\n    }\n    if (!editor.canvas.__eventListeners[\"mouse:down\"]) {\n      editor.canvas.on(\"mouse:down\", function (opt) {\n        var evt = opt.e;\n        if (evt.ctrlKey === true) {\n          this.isDragging = true;\n          this.selection = false;\n          this.lastPosX = evt.clientX;\n          this.lastPosY = evt.clientY;\n        }\n      });\n    }\n    if (!editor.canvas.__eventListeners[\"mouse:move\"]) {\n      editor.canvas.on(\"mouse:move\", function (opt) {\n        if (this.isDragging) {\n          var e = opt.e;\n          var vpt = this.viewportTransform;\n          vpt[4] += e.clientX - this.lastPosX;\n          vpt[5] += e.clientY - this.lastPosY;\n          this.requestRenderAll();\n          this.lastPosX = e.clientX;\n          this.lastPosY = e.clientY;\n        }\n      });\n    }\n    if (!editor.canvas.__eventListeners[\"mouse:up\"]) {\n      editor.canvas.on(\"mouse:up\", function (opt) {\n        // on mouse up we want to recalculate new interaction\n        // for all objects, so we call setViewportTransform\n        this.setViewportTransform(this.viewportTransform);\n        this.isDragging = false;\n        this.selection = true;\n      });\n    }\n    editor.canvas.renderAll();\n  }, [editor]);\n  const addBackground = () => {\n    if (!editor || !fabric) {\n      return;\n    }\n    fabric.Image.fromURL(`${src}`, image => {\n      editor.canvas.setBackgroundImage(image, editor.canvas.renderAll.bind(editor.canvas));\n    });\n  };\n  const fromSvg = () => {\n    fabric.loadSVGFromString(`<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?>\n    <!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"500\" height=\"500\" viewBox=\"0 0 500 500\" xml:space=\"preserve\">\n    <desc>Created with Fabric.js 5.3.0</desc>\n    <defs>\n    </defs>\n    <g transform=\"matrix(1 0 0 1 662.5 750)\"  >\n      <image style=\"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;\"  xlink:href=\"https://thegraphicsfairy.com/wp-content/uploads/2019/02/Anatomical-Heart-Illustration-Black-GraphicsFairy.jpg\" x=\"-662.5\" y=\"-750\" width=\"1325\" height=\"1500\"></image>\n    </g>\n    <g transform=\"matrix(1 0 0 1 120.5 120.5)\"  >\n    <circle style=\"stroke: rgb(53,54,58); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;\"  cx=\"0\" cy=\"0\" r=\"20\" />\n    </g>\n    <g transform=\"matrix(1 0 0 1 245.5 200.5)\"  >\n    <line style=\"stroke: rgb(53,54,58); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;\"  x1=\"-75\" y1=\"-50\" x2=\"75\" y2=\"50\" />\n    </g>\n    <g transform=\"matrix(1 0 0 1 141.4 220.03)\" style=\"\"  >\n        <text xml:space=\"preserve\" font-family=\"Arial\" font-size=\"16\" font-style=\"normal\" font-weight=\"normal\" style=\"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(53,54,58); fill-rule: nonzero; opacity: 1; white-space: pre;\" ><tspan x=\"-16.9\" y=\"-5.46\" >inset</tspan><tspan x=\"-16.9\" y=\"15.51\" >text</tspan></text>\n    </g>\n    <g transform=\"matrix(1 0 0 1 268.5 98.5)\"  >\n    <rect style=\"stroke: rgb(53,54,58); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;\"  x=\"-20\" y=\"-20\" rx=\"0\" ry=\"0\" width=\"40\" height=\"40\" />\n    </g>\n    </svg>`, (objects, options) => {\n      editor.canvas._objects.splice(0, editor.canvas._objects.length);\n      editor.canvas.backgroundImage = objects[0];\n      const newObj = objects.filter((_, index) => index !== 0);\n      newObj.forEach(object => {\n        editor.canvas.add(object);\n      });\n      editor.canvas.renderAll();\n    });\n  };\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    editor.canvas.setHeight(500);\n    editor.canvas.setWidth(500);\n    addBackground();\n    editor.canvas.renderAll();\n  }, [editor === null || editor === void 0 ? void 0 : editor.canvas.backgroundImage]);\n  const toggleSize = () => {\n    editor.canvas.freeDrawingBrush.width === 12 ? editor.canvas.freeDrawingBrush.width = 5 : editor.canvas.freeDrawingBrush.width = 12;\n  };\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    editor.canvas.freeDrawingBrush.color = color;\n    editor.setStrokeColor(color);\n  }, [color]);\n  const toggleDraw = () => {\n    editor.canvas.isDrawingMode = !editor.canvas.isDrawingMode;\n  };\n  const undo = () => {\n    if (editor.canvas._objects.length > 0) {\n      history.push(editor.canvas._objects.pop());\n    }\n    editor.canvas.renderAll();\n  };\n  const redo = () => {\n    if (history.length > 0) {\n      editor.canvas.add(history.pop());\n    }\n  };\n  const clear = () => {\n    editor.canvas._objects.splice(0, editor.canvas._objects.length);\n    history.splice(0, history.length);\n    editor.canvas.renderAll();\n  };\n  const removeSelectedObject = () => {\n    editor.canvas.remove(editor.canvas.getActiveObject());\n  };\n  const onAddCircle = () => {\n    editor.addCircle();\n    editor.addLine();\n  };\n  const onAddRectangle = () => {\n    editor.addRectangle();\n  };\n  const addText = () => {\n    editor.addText(\"inset text\");\n  };\n  const exportSVG = () => {\n    const svg = editor.canvas.toSVG();\n    console.info(svg);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"FabricJS React Sample\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onAddCircle,\n      children: \"Add circle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onAddRectangle,\n      disabled: !cropImage,\n      children: \"Add Rectangle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addText,\n      disabled: !cropImage,\n      children: \"Add Text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleDraw,\n      disabled: !cropImage,\n      children: \"Toggle draw\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clear,\n      disabled: !cropImage,\n      children: \"Clear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: undo,\n      disabled: !cropImage,\n      children: \"Undo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: redo,\n      disabled: !cropImage,\n      children: \"Redo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleSize,\n      disabled: !cropImage,\n      children: \"ToggleSize\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: removeSelectedObject,\n      disabled: !cropImage,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => setCropImage(!cropImage),\n      children: \"Crop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      disabled: !cropImage,\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        disabled: !cropImage,\n        type: \"color\",\n        value: color,\n        onChange: e => setColor(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: exportSVG,\n      disabled: !cropImage,\n      children: [\" \", \"ToSVG\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fromSvg,\n      disabled: !cropImage,\n      children: \"fromsvg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: `3px ${!cropImage ? \"dotted\" : \"solid\"} Green`,\n        width: \"500px\",\n        height: \"500px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(FabricJSCanvas, {\n        className: \"sample-canvas\",\n        onReady: onReady\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 5\n  }, this);\n}\n_s(Canvas, \"tq2KqrvdYQM5gLqSTCx+QNMWVYY=\", false, function () {\n  return [useFabricJSEditor];\n});\n_c = Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useEffect","useState","fabric","FabricJSCanvas","useFabricJSEditor","jsxDEV","_jsxDEV","Canvas","src","_s","editor","onReady","history","color","setColor","cropImage","setCropImage","canvas","__eventListeners","on","opt","delta","e","deltaY","zoom","getZoom","zoomToPoint","x","offsetX","y","offsetY","preventDefault","stopPropagation","evt","ctrlKey","isDragging","selection","lastPosX","clientX","lastPosY","clientY","vpt","viewportTransform","requestRenderAll","setViewportTransform","renderAll","addBackground","Image","fromURL","image","setBackgroundImage","bind","fromSvg","loadSVGFromString","objects","options","_objects","splice","length","backgroundImage","newObj","filter","_","index","forEach","object","add","setHeight","setWidth","toggleSize","freeDrawingBrush","width","setStrokeColor","toggleDraw","isDrawingMode","undo","push","pop","redo","clear","removeSelectedObject","remove","getActiveObject","onAddCircle","addCircle","addLine","onAddRectangle","addRectangle","addText","exportSVG","svg","toSVG","console","info","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","type","value","onChange","target","style","border","height","_c","$RefreshReg$"],"sources":["/Users/tanishk7838/Desktop/vega6-task/src/Components/Canvas.jsx"],"sourcesContent":["// import { FabricJSCanvas, useFabricJSEditor } from 'fabricjs-react'\n// import React, { useEffect } from 'react'\n// import { fabric } from 'fabric'\n// import './Canvas.css'\n// function Canvas({src}) {\n//     const {selectedObjects, editor, onReady } = useFabricJSEditor()\n//     useEffect(() => {\n//         editor.canvas.setHeight(400)\n//         editor.canvas.setWidth(400)\n//         fabric.Image.fromURL(`${src}`, function (oImg) {\n//           editor?.canvas.add(oImg);\n//         });\n//       }, [fabric, editor])\n//   return (\n//     <div className='canvas'>\n//         <FabricJSCanvas className=\"sample-canvas\" onReady={onReady} />\n//     </div>\n//   )\n// }\n\n// export default Canvas\n\nimport React, { useEffect, useState } from \"react\";\nimport { fabric } from \"fabric\";\nimport { FabricJSCanvas, useFabricJSEditor } from \"fabricjs-react\";\n\nexport default function Canvas({src}) {\n  const { editor, onReady } = useFabricJSEditor();\n\n  const history = [];\n  const [color, setColor] = useState(\"#35363a\");\n  const [cropImage, setCropImage] = useState(true);\n\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n\n    if (cropImage) {\n      editor.canvas.__eventListeners = {};\n      return;\n    }\n\n    if (!editor.canvas.__eventListeners[\"mouse:wheel\"]) {\n      editor.canvas.on(\"mouse:wheel\", function (opt) {\n        var delta = opt.e.deltaY;\n        var zoom = editor.canvas.getZoom();\n        zoom *= 0.999 ** delta;\n        if (zoom > 20) zoom = 20;\n        if (zoom < 0.01) zoom = 0.01;\n        editor.canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\n        opt.e.preventDefault();\n        opt.e.stopPropagation();\n      });\n    }\n\n    if (!editor.canvas.__eventListeners[\"mouse:down\"]) {\n      editor.canvas.on(\"mouse:down\", function (opt) {\n        var evt = opt.e;\n        if (evt.ctrlKey === true) {\n          this.isDragging = true;\n          this.selection = false;\n          this.lastPosX = evt.clientX;\n          this.lastPosY = evt.clientY;\n        }\n      });\n    }\n\n    if (!editor.canvas.__eventListeners[\"mouse:move\"]) {\n      editor.canvas.on(\"mouse:move\", function (opt) {\n        if (this.isDragging) {\n          var e = opt.e;\n          var vpt = this.viewportTransform;\n          vpt[4] += e.clientX - this.lastPosX;\n          vpt[5] += e.clientY - this.lastPosY;\n          this.requestRenderAll();\n          this.lastPosX = e.clientX;\n          this.lastPosY = e.clientY;\n        }\n      });\n    }\n\n    if (!editor.canvas.__eventListeners[\"mouse:up\"]) {\n      editor.canvas.on(\"mouse:up\", function (opt) {\n        // on mouse up we want to recalculate new interaction\n        // for all objects, so we call setViewportTransform\n        this.setViewportTransform(this.viewportTransform);\n        this.isDragging = false;\n        this.selection = true;\n      });\n    }\n\n    editor.canvas.renderAll();\n  }, [editor]);\n\n  const addBackground = () => {\n    if (!editor || !fabric) {\n      return;\n    }\n\n    fabric.Image.fromURL(\n      `${src}`,\n      (image) => {\n        editor.canvas.setBackgroundImage(\n          image,\n          editor.canvas.renderAll.bind(editor.canvas)\n        );\n      }\n    );\n  };\n\n  const fromSvg = () => {\n    fabric.loadSVGFromString(\n      `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?>\n    <!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"500\" height=\"500\" viewBox=\"0 0 500 500\" xml:space=\"preserve\">\n    <desc>Created with Fabric.js 5.3.0</desc>\n    <defs>\n    </defs>\n    <g transform=\"matrix(1 0 0 1 662.5 750)\"  >\n      <image style=\"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;\"  xlink:href=\"https://thegraphicsfairy.com/wp-content/uploads/2019/02/Anatomical-Heart-Illustration-Black-GraphicsFairy.jpg\" x=\"-662.5\" y=\"-750\" width=\"1325\" height=\"1500\"></image>\n    </g>\n    <g transform=\"matrix(1 0 0 1 120.5 120.5)\"  >\n    <circle style=\"stroke: rgb(53,54,58); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;\"  cx=\"0\" cy=\"0\" r=\"20\" />\n    </g>\n    <g transform=\"matrix(1 0 0 1 245.5 200.5)\"  >\n    <line style=\"stroke: rgb(53,54,58); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;\"  x1=\"-75\" y1=\"-50\" x2=\"75\" y2=\"50\" />\n    </g>\n    <g transform=\"matrix(1 0 0 1 141.4 220.03)\" style=\"\"  >\n        <text xml:space=\"preserve\" font-family=\"Arial\" font-size=\"16\" font-style=\"normal\" font-weight=\"normal\" style=\"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(53,54,58); fill-rule: nonzero; opacity: 1; white-space: pre;\" ><tspan x=\"-16.9\" y=\"-5.46\" >inset</tspan><tspan x=\"-16.9\" y=\"15.51\" >text</tspan></text>\n    </g>\n    <g transform=\"matrix(1 0 0 1 268.5 98.5)\"  >\n    <rect style=\"stroke: rgb(53,54,58); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;\"  x=\"-20\" y=\"-20\" rx=\"0\" ry=\"0\" width=\"40\" height=\"40\" />\n    </g>\n    </svg>`,\n      (objects, options) => {\n        editor.canvas._objects.splice(0, editor.canvas._objects.length);\n        editor.canvas.backgroundImage = objects[0];\n        const newObj = objects.filter((_, index) => index !== 0);\n        newObj.forEach((object) => {\n          editor.canvas.add(object);\n        });\n\n        editor.canvas.renderAll();\n      }\n    );\n  };\n\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    editor.canvas.setHeight(500);\n    editor.canvas.setWidth(500);\n    addBackground();\n    editor.canvas.renderAll();\n  }, [editor?.canvas.backgroundImage]);\n\n  const toggleSize = () => {\n    editor.canvas.freeDrawingBrush.width === 12\n      ? (editor.canvas.freeDrawingBrush.width = 5)\n      : (editor.canvas.freeDrawingBrush.width = 12);\n  };\n\n  useEffect(() => {\n    if (!editor || !fabric) {\n      return;\n    }\n    editor.canvas.freeDrawingBrush.color = color;\n    editor.setStrokeColor(color);\n  }, [color]);\n\n  const toggleDraw = () => {\n    editor.canvas.isDrawingMode = !editor.canvas.isDrawingMode;\n  };\n  const undo = () => {\n    if (editor.canvas._objects.length > 0) {\n      history.push(editor.canvas._objects.pop());\n    }\n    editor.canvas.renderAll();\n  };\n  const redo = () => {\n    if (history.length > 0) {\n      editor.canvas.add(history.pop());\n    }\n  };\n\n  const clear = () => {\n    editor.canvas._objects.splice(0, editor.canvas._objects.length);\n    history.splice(0, history.length);\n    editor.canvas.renderAll();\n  };\n\n  const removeSelectedObject = () => {\n    editor.canvas.remove(editor.canvas.getActiveObject());\n  };\n\n  const onAddCircle = () => {\n    editor.addCircle();\n    editor.addLine();\n  };\n  const onAddRectangle = () => {\n    editor.addRectangle();\n  };\n  const addText = () => {\n    editor.addText(\"inset text\");\n  };\n\n  const exportSVG = () => {\n    const svg = editor.canvas.toSVG();\n    console.info(svg);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>FabricJS React Sample</h1>\n      <button onClick={onAddCircle}>Add circle</button>\n      <button onClick={onAddRectangle} disabled={!cropImage}>\n        Add Rectangle\n      </button>\n      <button onClick={addText} disabled={!cropImage}>\n        Add Text\n      </button>\n      <button onClick={toggleDraw} disabled={!cropImage}>\n        Toggle draw\n      </button>\n      <button onClick={clear} disabled={!cropImage}>\n        Clear\n      </button>\n      <button onClick={undo} disabled={!cropImage}>\n        Undo\n      </button>\n      <button onClick={redo} disabled={!cropImage}>\n        Redo\n      </button>\n      <button onClick={toggleSize} disabled={!cropImage}>\n        ToggleSize\n      </button>\n      <button onClick={removeSelectedObject} disabled={!cropImage}>\n        Delete\n      </button>\n      <button onClick={(e) => setCropImage(!cropImage)}>Crop</button>\n      <label disabled={!cropImage}>\n        <input\n          disabled={!cropImage}\n          type=\"color\"\n          value={color}\n          onChange={(e) => setColor(e.target.value)}\n        />\n      </label>\n      <button onClick={exportSVG} disabled={!cropImage}>\n        {\" \"}\n        ToSVG\n      </button>\n      <button onClick={fromSvg} disabled={!cropImage}>\n        fromsvg\n      </button>\n\n      <div\n        style={{\n          border: `3px ${!cropImage ? \"dotted\" : \"solid\"} Green`,\n          width: \"500px\",\n          height: \"500px\"\n        }}\n      >\n        <FabricJSCanvas className=\"sample-canvas\" onReady={onReady} />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}